/* Simple, direct approach to ensure Farmer Assist displays correctly */
.farmer-assist-reset {
    /* Full screen container */
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    bottom: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 999999 !important;

    /* Reset Space Explorer interference */
    background: white !important;
    font-family: system-ui, -apple-system, sans-serif !important;
    color: #111827 !important;
    line-height: normal !important;

    /* No transforms or filters */
    transform: none !important;
    filter: none !important;
    backdrop-filter: none !important;

    /* Ensure rendering */
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Force all children to use border-box */
.farmer-assist-reset * {
    box-sizing: border-box !important;
}

/* Critical Leaflet Map Fixes */
.farmer-assist-reset .leaflet-container {
    width: 100% !important;
    height: 100% !important;
    position: relative !important;
    z-index: 0 !important;
    background: #ddd !important;
    font: inherit !important;
}

.farmer-assist-reset .leaflet-pane {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    z-index: auto !important;
}

.farmer-assist-reset .leaflet-tile-pane {
    z-index: 200 !important;
}

.farmer-assist-reset .leaflet-tile {
    position: absolute !important;
    width: 256px !important;
    height: 256px !important;
}

.farmer-assist-reset .leaflet-tile-container {
    position: absolute !important;
}

/* Ensure map pane works */
.farmer-assist-reset .leaflet-map-pane {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
}

.farmer-assist-reset .leaflet-map-pane svg,
.farmer-assist-reset .leaflet-map-pane canvas {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
}

/* Overlay panes */
.farmer-assist-reset .leaflet-overlay-pane svg {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
}

.farmer-assist-reset svg.leaflet-zoom-animated {
    will-change: transform !important;
}

/* Ensure controls display */
.farmer-assist-reset .leaflet-control-container {
    position: absolute !important;
    left: 0 !important;
    right: 0 !important;
    top: 0 !important;
    bottom: 0 !important;
}

.farmer-assist-reset .leaflet-top,
.farmer-assist-reset .leaflet-bottom {
    position: absolute !important;
    z-index: 1000 !important;
}

.farmer-assist-reset .leaflet-top {
    top: 0 !important;
}

.farmer-assist-reset .leaflet-bottom {
    bottom: 0 !important;
}

.farmer-assist-reset .leaflet-left {
    left: 0 !important;
}

.farmer-assist-reset .leaflet-right {
    right: 0 !important;
}

/* Fix scrollbars */
.farmer-assist-reset ::-webkit-scrollbar {
    width: 8px !important;
    height: 8px !important;
}

.farmer-assist-reset ::-webkit-scrollbar-track {
    background: #f3f4f6 !important;
}

.farmer-assist-reset ::-webkit-scrollbar-thumb {
    background: #9ca3af !important;
    border-radius: 4px !important;
}

.farmer-assist-reset ::-webkit-scrollbar-thumb:hover {
    background: #6b7280 !important;
}

/* Ensure buttons work */
.farmer-assist-reset button {
    cursor: pointer !important;
    font-family: inherit !important;
}

/* Ensure images load */
.farmer-assist-reset img {
    display: block !important;
    max-width: 100% !important;
}